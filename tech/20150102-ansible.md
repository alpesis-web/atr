Jan 02 2014 | ansible | Kelly Chan
# Ansible

## modules, inventories and variables

- inventory: hosts

<pre>
ansible-playbook -c paramiko -i step-00/hosts step-00/setup.yml --ask-pass --sudo

ansible -m ping all -i step-01/hosts

＃ 执行shell脚本，查看所有机器的信息：详细输出所有信息，依次为内核名称，主机名，内核版本号，内核版本，硬件名，处理器类型，硬件平台类型，操作系统名称
ansible -i step-02/hosts -m shell -a 'uname -a' host0.example.org

＃ 拷贝文件
ansible -i step-02/hosts -m copy -a 'src=/etc/motd dest=/tmp/' host0.example.org

＃ 查看版本号
ansible -i step-02/hosts -m shell -a 'grep DISTRIB_RELEASE /etc/lsb-release' all 

＃ 查看更多信息
ansible -i step-02/hosts -m setup host0.example.org

＃ 查看内存信息
ansible -i step-02/hosts -m setup -a 'filter=ansible_memtotal_mb' all
</pre>

## playbooks

- playbook: task
